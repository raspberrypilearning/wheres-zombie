## स्माईलीस (smileys) का हमला

जब आपने अपने फ़ोन पर अपने नक्शे का परीक्षण किया, तो आपको लगा होगा कि शायद आपको ज़ौंबीस के बजाय स्माईलीस द्वारा हमला किया जा रहा है! ऐसा इसलिए है क्योंकि पेज हर बार खिलाड़ी के हिलने पर एक नया मार्कर (marker) बनाता है, लेकिन अपने पिछले पदों के मार्करों को नहीं हटाता है। आखिरकार यह भ्रामक हो जाता है, क्योंकि आप यह नहीं बता सकते कि आप कहाँ से हैं!

![स्माईलीस (smileys) का हमला](images/attack-smileys.png)

अपने कंप्यूटर पर कोड (code) संपादित (edit) करना जारी रखें। आप कोड को GitHub पर पुनः अपलोड कर सकते हैं यदि आप इसका परीक्षण बाहर करना है।

+ `var zombie_map;` पंक्ति के नीचे एक नया `old_position` नामक वेरिएबल (variable) बनाएँ।

+ `initMap()` फंक्शन के अंदर, एक `old_position` नामक मार्कर बनाए, उसी स्थान पर जहां आपने अपना नक्शा केंद्रित किया था। (यह मायने नहीं रखता है कि इस मार्कर को किस स्थान पर शुरू किया गया है, क्योंकि इसके स्थान का मान लगभग तुरंत ही पुनः लिखा जाएगा, लेकिन इसे आरंभ करने की आवश्यकता है। हमने नक्शे के केंद्रीय स्थान का उपयोग इसलिए किया क्योंकि यह आसान था!)

+ अपने फ़ंक्शन (function) `set_my_position()` का पता लगाएँ। कोड की पंक्ति जोड़ें ताकि **first** चीज़ जो फंक्शन (function) करता है वह यह हो, नक्शे में से पुराने स्थान के मार्कर को निकाल दे। `null` एक ख़ास संकेत शब्द है जिसका इस समय मतलब है "कोई नक्शा नहीं" ("no map")।

```JavaScript
old_position.setMap(null)
```

+ `set_my_position()` फंक्शन को कोड की एक और पंक्ति जोड़े, पर इस बार वह **last** चीज़ होनी चाहिए जो फंक्शन करेगा। यह आपके द्वारा अभी बनाए गए नए स्थान मार्कर (position marker) को `old_position` के रूप में सेव (save) करता है ताकि अगली बार जब हम एक नया मार्कर बनाएं तो हमें पता चले कि पिछला वाला कहाँ था।

```JavaScript
old_position = marker;
```

+ अपना कोड सेव (save) करें और इसे फिर से अपनी वेब होस्टिंग सेवा (web hosting service) पर अपलोड (upload) करें। चारों ओर घूमकर कोड का परीक्षण करें। आपको अपने खिलाड़ी का स्माइली (smiley) घूमते हुए दिखना चाहिए, लेकिन इस बार स्माइली का कोई निशान नहीं होगा, केवल एक मार्कर (marker) आपकी वर्तमान स्थिति दिखाएगा। उफ़!